# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -run-pass=legalizer -verify-machineinstrs -o - %s | FileCheck %s
--- |
  @.str = constant [2 x i8] c"XY"
  define void @ptradd_global_offset() {
    entry:
      ret void
  }
---
name: ptradd_global_offset
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: ptradd_global_offset
    ; CHECK: [[GV:%[0-9]+]]:_(p0) = G_GLOBAL_VALUE @.str + 1234
    ; CHECK: RTS implicit [[GV]](p0)
    %0:_(p0) = G_GLOBAL_VALUE @.str + 1200
    %1:_(s16) = G_CONSTANT i16 34
    %2:_(p0) = G_PTR_ADD %0, %1
    RTS implicit %2
...
