# RUN: llc -mtriple=mos -start-after=machine-opt-remark-emitter -verify-machineinstrs -o - %s | FileCheck %s
---
name: asl_zeropage
# CHECK-LABEL: asl_zeropage
body: |
  bb.0.entry:
    $rc0, $c = ASL $rc0, implicit-def $nz
    ; CHECK:      asl mos8(__rc0)
    RTS
    ; CHECK-NEXT: rts
...
---
name: asl_accumulator
# CHECK-LABEL: asl_accumulator
body: |
  bb.0.entry:
    ; CHECK-LABEL: bb.0
    $a, $c = ASL $a, implicit-def $nz
    ; CHECK:      asl
    RTS
    ; CHECK-NEXT: rts
...
---
name: bcs_relative
# CHECK-LABEL: bcs_relative
body: |
  bb.0.entry:
    BR %bb.0.entry, $c, 1
    ; CHECK:      [[BLOCK:L.*]]: ; %entry
    ; CHECK:      bcs [[BLOCK]]
    RTS
    ; CHECK-NEXT: rts
...
---
name: bcc_relative
# CHECK-LABEL: bcc_relative
body: |
  bb.0.entry:
    BR %bb.0.entry, $c, 0
    ; CHECK:      [[BLOCK:L.*]]: ; %entry
    ; CHECK:      bcc [[BLOCK]]
    RTS
    ; CHECK-NEXT: rts
...
---
name: cmp_immediate
# CHECK-LABEL: cmp_immediate
body: |
  bb.0.entry:
    $c = CMPImm $a, 42, implicit-def $nz
    ; CHECK:      cmp #42
    RTS
    ; CHECK-NEXT: rts
...
---
name: lda_immediate
# CHECK-LABEL: lda_immediate
body: |
  bb.0.entry:
    $a = LDImm 42, implicit-def $nz
    ; CHECK:      lda #42
    RTS
    ; CHECK-NEXT: rts
...
---
name: lda_absolutex
# CHECK-LABEL: lda_absolutex
body: |
  bb.0.entry:
    $a = LDAIdx 1234, $x, implicit-def $nz
    ; CHECK:      lda 1234,x
    RTS
    ; CHECK-NEXT: rts
...
---
name: clc_implied
# CHECK-LABEL: clc_implied
body: |
  bb.0.entry:
    $c = LDCImm 0
    ; CHECK:      clc{{$}}
    RTS
    ; CHECK-NEXT: rts
...
---
name: sec_implied
# CHECK-LABEL: sec_implied
body: |
  bb.0.entry:
    $c = LDCImm 1
    ; CHECK:      sec{{$}}
    RTS
    ; CHECK-NEXT: rts
...
---
name: inx_implied
# CHECK-LABEL: inx_implied
body: |
  bb.0.entry:
    $x = IN $x, implicit-def $nz
    ; CHECK:      inx{{$}}
    RTS
    ; CHECK-NEXT: rts
...
---
name: pha_implied
# CHECK-LABEL: pha_implied
body: |
  bb.0.entry:
    PH $a
    ; CHECK:      pha{{$}}
    RTS
    ; CHECK-NEXT: rts
...
---
name: pla_implied
# CHECK-LABEL: pla_implied
body: |
  bb.0.entry:
    $a = PL implicit-def $nz
    ; CHECK:      pla{{$}}
    RTS
    ; CHECK-NEXT: rts
...
---
name: sta_absolutex
# CHECK-LABEL: sta_absolutex
body: |
  bb.0.entry:
    STIdx $a, 1234, $x
    ; CHECK:      sta 1234,x
    RTS
    ; CHECK-NEXT: rts
...
---
name: sta_zeropage
# CHECK-LABEL: sta_zeropage
body: |
  bb.0.entry:
    $rc0 = STImag8 $a
    ; CHECK:      sta mos8(__rc0)
    RTS
    ; CHECK-NEXT: rts
...
---
name: sty_zeropage
# CHECK-LABEL: sty_zeropage
body: |
  bb.0.entry:
    $rc0 = STImag8 $y
    ; CHECK:      sty mos8(__rc0)
    RTS
    ; CHECK-NEXT: rts
...
---
name: txa_implied
# CHECK-LABEL: txa_implied
body: |
  bb.0.entry:
    $a = T_A $x, implicit-def $nz
    ; CHECK:      txa{{$}}
    RTS
    ; CHECK-NEXT: rts
...
