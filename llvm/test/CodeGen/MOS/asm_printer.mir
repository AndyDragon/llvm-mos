# RUN: llc -mtriple=mos -start-after=machine-opt-remark-emitter -verify-machineinstrs -o - %s | FileCheck %s
---
name: adc_immediate
# CHECK-LABEL: adc_immediate
body: |
  bb.0.entry:
    $a, $c = ADCimm $a, 42, $c, implicit-def $nz
    RTS_Implied
# CHECK:      adc #42
# CHECK-NEXT: rts
...
---
name: adc_zeropage
# CHECK-LABEL: adc_zeropage
body: |
  bb.0.entry:
    $a, $c = ADCzpr $a, $rc0, $c, implicit-def $nz
    RTS_Implied
# CHECK:      adc _RC0
# CHECK-NEXT: rts
...
---
name: asl_accumulator
# CHECK-LABEL: asl_accumulator
body: |
  bb.0.entry:
    $a, $c = ASL $a, implicit-def $nz
    RTS_Implied
# $ prevents asl from matching the name of the function.
# CHECK:      asl{{$}}
# CHECK-NEXT: rts
...
---
name: asl_zeropage
# CHECK-LABEL: asl_zeropage
body: |
  bb.0.entry:
    $rc0, $c = ASL $rc0, implicit-def $nz
    RTS_Implied
# CHECK:      asl _RC0
# CHECK-NEXT: rts
...
---
name: cmp_immediate
# CHECK-LABEL: cmp_immediate
body: |
  bb.0.entry:
    CMPimm $a, 42, implicit-def $nz
    RTS_Implied
# CHECK:      cmp #42
# CHECK-NEXT: rts
...
---
name: cpx_immediate
# CHECK-LABEL: cpx_immediate
body: |
  bb.0.entry:
    CMPimm $x, 42, implicit-def $nz
    RTS_Implied
# CHECK:      cpx #42
# CHECK-NEXT: rts
...
---
name: cpy_immediate
# CHECK-LABEL: cpy_immediate
body: |
  bb.0.entry:
    CMPimm $y, 42, implicit-def $nz
    RTS_Implied
# CHECK:      cpy #42
# CHECK-NEXT: rts
...
---
name: jmp_absolute
# CHECK-LABEL: jmp_absolute
body: |
  bb.0.entry:
    JMP %bb.0.entry
# CHECK: [[BLOCK:L.*]]: ; %entry
# CHECK: jmp [[BLOCK]]
...
---
name: lda_immediate
# CHECK-LABEL: lda_immediate
body: |
  bb.0.entry:
    $a = LDimm 42, implicit-def $nz
    RTS_Implied
# CHECK:      lda #42
# CHECK-NEXT: rts
...
---
name: ldx_immediate
# CHECK-LABEL: ldx_immediate
body: |
  bb.0.entry:
    $x = LDimm 42, implicit-def $nz
    RTS_Implied
# CHECK:      ldx #42
# CHECK-NEXT: rts
...
---
name: ldy_immediate
# CHECK-LABEL: ldy_immediate
body: |
  bb.0.entry:
    $y = LDimm 42, implicit-def $nz
    RTS_Implied
# CHECK:      ldy #42
# CHECK-NEXT: rts
...
---
name: sta_indirect_indexed
# CHECK-LABEL: sta_indirect_indexed
body: |
  bb.0.entry:
    STyindirr $a, $rs0, $y
    RTS_Implied
# CHECK:      sta (_RC0),llvm_mos_y
# CHECK-NEXT: rts
...
