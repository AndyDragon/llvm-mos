# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -run-pass=postrapseudos -verify-machineinstrs -o - %s | FileCheck %s
---
name:            tax
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $a
    ; CHECK-LABEL: name: tax
    ; CHECK: liveins: $a
    ; CHECK: $x = TA $a, implicit-def $nz
    $x = COPY $a
...
---
name:            txa
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $x
    ; CHECK-LABEL: name: txa
    ; CHECK: liveins: $x
    ; CHECK: $a = T_A $x, implicit-def $nz
    $a = COPY $x
...
---
name:            tay
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $a
    ; CHECK-LABEL: name: tay
    ; CHECK: liveins: $a
    ; CHECK: $y = TA $a, implicit-def $nz
    $y = COPY $a
...
---
name:            tya
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $y
    ; CHECK-LABEL: name: tya
    ; CHECK: liveins: $y
    ; CHECK: $a = T_A $y, implicit-def $nz
    $a = COPY $y
...
---
name:            txy
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $x
    ; CHECK-LABEL: name: txy
    ; CHECK: liveins: $x
    ; CHECK: $a = T_A $x, implicit-def $nz
    ; CHECK: $y = TA $a, implicit-def $nz
    $y = COPY $x
...
---
name:            tyx
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $y
    ; CHECK-LABEL: name: tyx
    ; CHECK: liveins: $y
    ; CHECK: $a = T_A $y, implicit-def $nz
    ; CHECK: $x = TA $a, implicit-def $nz
    $x = COPY $y
...
---
name:            preserve_a_txy
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $a, $x
    ; CHECK-LABEL: name: preserve_a_txy
    ; CHECK: liveins: $a, $x
    ; CHECK: PH $a
    ; CHECK: $a = T_A $x, implicit-def $nz
    ; CHECK: $y = TA $a, implicit-def $nz
    ; CHECK: $a = PL implicit-def $nz
    ; CHECK: $c = CMPImm $a, 0, implicit-def $nz
    $y = COPY $x
    $c = CMPImm $a, 0, implicit-def $nz
...
---
name:            stzp
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $a
    ; CHECK-LABEL: name: stzp
    ; CHECK: liveins: $a
    ; CHECK: $rc0 = STImag8 $a
    $rc0 = COPY $a
...
---
name:            ldzp
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $rc0
    ; CHECK-LABEL: name: ldzp
    ; CHECK: liveins: $rc0
    ; CHECK: $a = LDImag8 $rc0, implicit-def $nz
    $a = COPY $rc0
...
---
name:            zptozp_a
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $rc0
    ; CHECK-LABEL: name: zptozp_a
    ; CHECK: liveins: $rc0
    ; CHECK: $a = LDImag8 $rc0, implicit-def $nz
    ; CHECK: $rc1 = STImag8 $a
    $rc1 = COPY $rc0
...
---
name:            zptozp_save
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $rc0, $a, $x, $y
    ; CHECK-LABEL: name: zptozp_save
    ; CHECK: liveins: $rc0, $a, $x, $y
    ; CHECK: PH $a
    ; CHECK: $a = LDImag8 $rc0, implicit-def $nz
    ; CHECK: $rc1 = STImag8 $a
    ; CHECK: $a = PL implicit-def $nz
    ; CHECK: RTS implicit $a, implicit $x, implicit $y
    $rc1 = COPY $rc0
    RTS implicit $a, implicit $x, implicit $y
...
---
name:            zpptr_to_zpptr
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $rs0
    ; CHECK-LABEL: name: zpptr_to_zpptr
    ; CHECK: liveins: $rs0
    ; CHECK: $a = LDImag8 $rc0, implicit-def $nz
    ; CHECK: $rc2 = STImag8 $a
    ; CHECK: $a = LDImag8 $rc1, implicit-def $nz
    ; CHECK: $rc3 = STImag8 $a
    $rs1 = COPY $rs0
...
---
name:            xlsb_to_alsb
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $alsb
    ; CHECK-LABEL: name: xlsb_to_alsb
    ; CHECK: liveins: $alsb
    ; CHECK: $x = TA $a, implicit-def $nz
    $xlsb = COPY $alsb
...
---
name:            v_to_xlsb
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $v
    ; CHECK-LABEL: name: v_to_xlsb
    ; CHECK: liveins: $v
    ; CHECK: $xlsb = CopyFromV implicit $v
    $xlsb = COPY $v
...
---
name:            v_to_imag8lsb
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $v
    ; CHECK-LABEL: name: v_to_imag8lsb
    ; CHECK: liveins: $v
    ; CHECK: $alsb = CopyFromV implicit $v
    ; CHECK: $rc2 = STImag8 $a
    $rc2lsb = COPY $v
...
