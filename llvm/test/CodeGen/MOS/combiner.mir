# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -run-pass=mos-combiner -verify-machineinstrs -o - %s | FileCheck %s
---
name: fold_global_offset
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: fold_global_offset
    ; CHECK: [[GV:%[0-9]+]]:_(p0) = G_GLOBAL_VALUE @fold_global_offset + 42
    ; CHECK-NEXT: RTS implicit [[GV]](p0)
    %0:_(p0) = G_GLOBAL_VALUE @fold_global_offset
    %1:_(s16) = G_CONSTANT i16 42
    %2:_(p0) = G_PTR_ADD %0, %1
    RTS implicit %2
...
---
name: sbc_literal_eq
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: sbc_literal_eq
    ; CHECK: [[C:%[0-9]+]]:_(s1) = G_CONSTANT i1 true
    ; CHECK-NEXT: [[C1:%[0-9]+]]:_(s8) = G_CONSTANT i8 0
    ; CHECK-NEXT: [[C2:%[0-9]+]]:_(s1) = G_CONSTANT i1 false
    ; CHECK-NEXT: RTS implicit [[C1]](s8), implicit [[C2]](s1), implicit [[C2]](s1), implicit [[C2]](s1), implicit [[C2]](s1), implicit [[C]](s1)
    %0:_(s8) = COPY $a
    %1:_(s1) = G_CONSTANT i1 -1
    %2:_(s8), %3:_(s1), %4:_(s1), %5:_(s1), %6:_(s1) = G_SBC %0, %0, %1
    RTS implicit %2, implicit %3, implicit %4, implicit %4, implicit %5, implicit %6
...
