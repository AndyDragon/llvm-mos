# RUN: llc -mtriple=mos -run-pass=mos-lower-select -verify-machineinstrs -o - %s | FileCheck %s
---
name: lower_select
# CHECK-LABEL: name: lower_select
legalized: true
regBankSelected: true
tracksRegLiveness: true
body: |
  bb.0.entry:
    %0:any(s8) = G_CONSTANT i8 1
    %1:any(s8) = G_CONSTANT i8 2
    %2:any(s1) = G_CONSTANT i1 false
    %3:any(s8) = G_SELECT %2, %0, %1
    RTS implicit %3
# CHECK-LABEL: bb.0.entry:
# CHECK:         %0:any(s8) = G_CONSTANT i8 1
# CHECK-NEXT:    %1:any(s8) = G_CONSTANT i8 2
# CHECK-NEXT:    %2:any(s1) = G_CONSTANT i1 false
# CHECK-NEXT:    G_BRCOND_IMM %2(s1), %bb.2, 1

# CHECK-LABEL: bb.1.entry:

# CHECK-LABEL: bb.2.entry:
# CHECK:         %3:any(s8) = G_PHI %0(s8), %bb.0, %1(s8), %bb.1
# CHECK-NEXT:    RTS
