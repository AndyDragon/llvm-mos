# RUN: llc -mtriple=mos -run-pass=postrapseudos -verify-machineinstrs -o - %s | FileCheck %s
---
name: ldaidx
# CHECK-LABEL: name: ldaidx
body: |
  bb.0.entry:
    liveins: $x
    $a = LDidx 1234, $x, implicit-def $nz
# CHECK: $a = LDAidx 1234, $x
...
---
name: ldxidx_y
# CHECK-LABEL: name: ldxidx_y
body: |
  bb.0.entry:
    liveins: $y
    $x = LDidx 1234, $y, implicit-def $nz
# CHECK: $x = LDXidx 1234, $y
...
---
name: ldxidx_x
# CHECK-LABEL: name: ldxidx_x
body: |
  bb.0.entry:
    liveins: $x
    $x = LDidx 1234, $x, implicit-def $nz
    $c = CMPimm $a, 0, implicit-def $nz
# CHECK:      PH $a
# CHECK-NEXT: $a = LDAidx 1234, $x
# CHECK-NEXT: $x = TA
# CHECK-NEXT: $a = PL
...
---
name: ldyidx_x
# CHECK-LABEL: name: ldyidx_x
body: |
  bb.0.entry:
    liveins: $x
    $y = LDidx 1234, $x, implicit-def $nz
# CHECK: $y = LDYidx 1234, $x
...
