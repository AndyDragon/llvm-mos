# RUN: yaml2obj %s -o %t.elf
# RUN: llvm-mlb %t.elf
# RUN: FileCheck --match-full-lines --implicit-check-not {{.}} \
# RUN:   --input-file %t.mlb %s

--- !ELF
FileHeader:
  Class: ELFCLASS32
  Data:  ELFDATA2LSB
  Type:  ET_EXEC
ProgramHeaders:
  - Type: PT_LOAD
    Offset: 0x1233
    PAddr: 0x01000000
  - Type: PT_LOAD
    Offset: 0x1235
    FileSize: 1
    PAddr: 0x01000010
  - Type: PT_LOAD
    Offset: 0x1234
    FileSize: 1
    PAddr: 0x01000020
Sections:
  - Name: .a
    Type: SHT_PROGBITS
    Flags: [ SHF_ALLOC ]
    ContentArray: []
  - Name: .b
    Type: SHT_PROGBITS
    Flags: [ SHF_ALLOC ]
    ContentArray: []
    Address: 0x1000
    Offset: 0x1234
  - Name: .c
    Type: SHT_PROGBITS
    Flags: [ SHF_ALLOC ]
    ContentArray: []
    Address: 0x6000
    Offset: 0x5678
Symbols:
# CHECK-NOT: R:1234:__internal_abs
  - Name:  __internal_abs
    Index: SHN_ABS
    Value: 0x1234
# CHECK: R:1235-1236:two_byte
  - Name:  two_byte
    Index: SHN_ABS
    Value: 0x1235
    Size:  2
# CHECK: R:34:__rc5
  - Name:  __rc5
    Index: SHN_ABS
    Value: 0x34
# CHECK: G:2000:A
  - Name:  A
    Index: SHN_ABS
    Value: 0x2000
# CHECK: G:401f:B
  - Name:  B
    Index: SHN_ABS
    Value: 0x401f
# CHECK: R:10:a
  - Name:  a
    Section: .a
    Value: 0x10
# CHECK: R:1fff:b
  - Name:  b
    Section: .a
    Value: 0x1fff
# CHECK: P:101f:c
  - Name:  c
    Section: .b
    Value: 0x1fff
# CHECK: W:0:wram_bank_0_0
  - Name:  wram_bank_0_0
    Index: SHN_ABS
    Value: 0x6000
# CHECK: W:1fff:wram_bank_0_1fff
  - Name:  wram_bank_0_1fff
    Index: SHN_ABS
    Value: 0x7fff
# CHECK: W:2000:wram_bank_1_0
  - Name:  wram_bank_1_0
    Index: SHN_ABS
    Value: 0x16000
